<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.16" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/images/favicon.jpg" type="image/x-icon" />

    
    <title>TOTP Context</title>
    <link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/nucleus.css" rel="stylesheet">
    <link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/hybrid.css" rel="stylesheet">
    <link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/featherlight.min.css" rel="stylesheet">
    <link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/horsey.css" rel="stylesheet">
    <link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/theme.css" rel="stylesheet">
    <link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/hugo-theme.css" rel="stylesheet">
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    
<link href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/css/yosai_tutorial.css" rel="stylesheet">

  </head>
  <body class="" data-url="/06.settings/02.totp_context/">
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://yosaiproject.github.io/yosai">
<img src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/images/yosai.jpg" />
</a>

    </div>
    
</div>


  <div class="highlightable">
    <ul class="topics">
      
      
        
      
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/./">
        <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/./">
          <span>
            
             TOTP Tutorial
            
           </span>
        </a>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/01.overview/">
        <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/01.overview/">
          <span>
            
              <b>1. </b>
            
             Overview
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/01.overview/01.totp_in_nutshell/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/01.overview/01.totp_in_nutshell/">
                <span>TOTP In a Nutshell     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01.overview/02.passlib_totp/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/01.overview/02.passlib_totp/">
                <span>Passlib TOTP     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01.overview/03.totp_sources/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/01.overview/03.totp_sources/">
                <span>Token Stores     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01.overview/04.totp_token/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/01.overview/04.totp_token/">
                <span>TOTP Token     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01.overview/05.user_key/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/01.overview/05.user_key/">
                <span>User-Specific Key     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/02.user_setup/">
        <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/02.user_setup/">
          <span>
            
              <b>2. </b>
            
             TOTP Setup
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/02.user_setup/01.create_totp_factory/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/02.user_setup/01.create_totp_factory/">
                <span>TOTP Factory     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02.user_setup/02.generate_totp_instance/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/02.user_setup/02.generate_totp_instance/">
                <span>Generate TOTP     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02.user_setup/03.encrypt_serialize_totp/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/02.user_setup/03.encrypt_serialize_totp/">
                <span>Encrypt &amp; Serialize     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02.user_setup/04.obtain_totp_key/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/02.user_setup/04.obtain_totp_key/">
                <span>TOTP Key     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02.user_setup/05.share_key/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/02.user_setup/05.share_key/">
                <span>Share Key     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02.user_setup/06.persist_key_to_db/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/02.user_setup/06.persist_key_to_db/">
                <span>Save Key     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/03.userpass_login/">
        <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/03.userpass_login/">
          <span>
            
              <b>3. </b>
            
             Step 1: UserPass Login
            
           </span>
        </a>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/04.totp_login/">
        <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/04.totp_login/">
          <span>
            
              <b>4. </b>
            
             Step 2: TOTP Login
            
           </span>
        </a>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/05.rate_limiting/">
        <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/05.rate_limiting/">
          <span>
            
              <b>5. </b>
            
             Rate Limiting
            
           </span>
        </a>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/06.settings/">
        <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/06.settings/">
          <span>
            
              <b>6. </b>
            
             Settings
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/06.settings/01.dispatcher/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/06.settings/01.dispatcher/">
                <span>SMS Dispatcher     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item active" data-nav-id="/06.settings/02.totp_context/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/06.settings/02.totp_context/">
                <span>TOTP Context     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/06.settings/03.secrets/">
              <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/06.settings/03.secrets/">
                <span>Secrets     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/07.references/">
        <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/07.references/">
          <span>
            
              <b>7. </b>
            
             References
            
           </span>
        </a>
        
      </li>
      
      
    </ul>
    <hr>
     
    <section id="footer">
    </section>
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                    
                <a href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/06.settings/" itemprop="url"><span itemprop="title">Settings</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                  
                
                <span itemprop="title"> TOTP Context</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">

    </div>
</div>

              

            </div>
            
    	        <div id="body-inner">
                
                <h1>TOTP Context</h1>
                

<p>A TOTP instance can be initialized using a number of arguments that are passed
during TOTP Factory initialization.  Customizing configuration is entirely optional.
The default values defined within passlib will likely address your needs.</p>

<p>Yosai currently supports the following attributes within the &ldquo;totp -&gt; context&rdquo;
settings section of the Yosai yaml settings file.  Below is the context config
that comes packaged with Yosai.  As you can see, only secrets is defined within
context, enabling use of passlib.totp&rsquo;s default values.</p>

<pre><code class="language-yaml">    totp:
        context:
            secrets:
                1479568656:  9xEF7DRojqkJLUENWmOoF3ZCWz3kFHylDCES92dSvYV
</code></pre>

<p>This is what a hypothetical configuration looks like if you were to use the
default configuration defined within passlib.totp:</p>

<pre><code class="language-yaml">        context:
            digits: 6
            alg: sha1
            period: 30
            label: token_label_123
            issuer: my_application_name
            secrets:
                1479568656:  9xEF7DRojqkJLUENWmOoF3ZCWz3kFHylDCES92dSvYV
</code></pre>

<p><code>secrets</code> is the only dict.  The other attributes are simple key/values:</p>

<ul>
<li><code>digits</code>:  The number of digits (length) of the the TOTP token, where 6 &lt; len(digits) &lt; 10  and default is 6</li>
<li><code>alg</code>:  Name of hash algorithm to use. Defaults to <code>&quot;sha1&quot;</code>. <code>&quot;sha256&quot;</code> and <code>&quot;sha512&quot;</code> are also accepted, per :rfc:<code>6238</code>.</li>
<li><code>period</code>:  The number of seconds per counter step, defaults to 30 seconds</li>
<li><code>label</code>: Label to associate with this token when generating a URI.  It is displayed to a user by most OTP client applications (e.g. Google Authenticator), and typically has format such as <code>&quot;John Smith&quot;</code> or <code>&quot;jsmith@webservice.example.org&quot;</code>. Defaults to <code>None</code>.</li>
<li><code>issuer</code>: String identifying the token issuer (e.g. the domain name of your service). Used internally by some OTP client applications (e.g. Google Authenticator) to distinguish entries which otherwise have the same label. Optional but strongly recommended if you&rsquo;re rendering to a URI. Defaults to <code>None</code>.</li>
</ul>


      
      </div>
    </div>

    <div id="navigation">
        <a class="nav nav-prev" href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/06.settings/01.dispatcher"> <i class="fa fa-chevron-left"></i></a>
        <a class="nav nav-next" href="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/06.settings/03.secrets" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/clipboard.min.js"></script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/perfect-scrollbar.min.js"></script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/jquery.sticky-kit.min.js"></script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/featherlight.min.js"></script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/html5shiv-printshiv.min.js"></script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/modernizr.custom.71422.js"></script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/learn.js"></script>
    <script src="https://yosaiproject.github.io/yosai/tutorials/totp_tutorial/js/hugo-learn.js"></script>
    

  </body>
</html>

